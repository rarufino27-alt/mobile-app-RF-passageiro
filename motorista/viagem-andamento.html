<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>RF – Viagem em Andamento</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;}

body{
  background:#0f0f0f;
  color:#fff;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  height:100vh;
  text-align:center;
}

.titulo{
  position:absolute;
  top:40px;
  font-size:14px;
  opacity:.7;
}

.valor{
  font-size:48px;
  font-weight:900;
  margin-bottom:10px;
  animation:pulse 1.5s infinite;
}

@keyframes pulse{
  0%{transform:scale(1);}
  50%{transform:scale(1.05);}
  100%{transform:scale(1);}
}

.rota{
  font-size:14px;
  opacity:.7;
  margin-bottom:40px;
  padding:0 30px;
}

.btn{
  width:85%;
  max-width:400px;
  padding:16px;
  border-radius:16px;
  border:none;
  font-weight:700;
  font-size:16px;
  margin-bottom:15px;
  cursor:pointer;
}

.btn-waze{
  background:#1c1c1c;
  color:#fff;
  border:1px solid #333;
}

.btn-finalizar{
  background:#22c55e;
  color:#fff;
}

</style>
</head>
<body>

<div class="titulo">Viagem em andamento</div>

<div class="valor" id="valorCorrida"></div>

<div class="rota" id="rotaCorrida"></div>

<button class="btn btn-waze" onclick="abrirWaze()">
Abrir no Waze (opcional)
</button>

<button class="btn btn-finalizar" onclick="finalizar()">
Finalizar Corrida
</button>

<script>

const corrida = JSON.parse(localStorage.getItem("corrida_ativa"));

document.getElementById("valorCorrida").innerText =
"R$ " + Number(corrida.valor).toFixed(2);

document.getElementById("rotaCorrida").innerText =
corrida.origem + " → " + corrida.destino;

function abrirWaze(){
  const destino = encodeURIComponent(corrida.destino);
  window.open("https://waze.com/ul?q=" + destino + "&navigate=yes");
}

function finalizar(){
  window.location.href = "finalizacao.html";
}

</script>

</body>
</html>