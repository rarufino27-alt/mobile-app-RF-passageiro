<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Carteira - RF Motorista</title>

<style>
:root{
  --verde:#22c55e;
  --cinza:#777;
  --vermelho:#ef4444;
}

*{ box-sizing:border-box; }

body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
  background:#ffffff;
  color:#111;
}

/* HEADER */
.header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:20px;
  border-bottom:1px solid #eee;
}

.menu-btn{
  font-size:24px;
  cursor:pointer;
}

.title{
  font-weight:800;
  font-size:18px;
}

.spacer{ width:24px; }

/* MENU */
.menu{
  position:fixed;
  top:0;
  left:-280px;
  width:280px;
  height:100%;
  background:#111;
  color:#fff;
  padding:25px 20px;
  transition:.3s;
  z-index:20;
}

.menu.active{ left:0; }

.menu-item{
  margin:18px 0;
  cursor:pointer;
  font-weight:600;
}

.menu-item:hover{ color:var(--verde); }

.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.4);
  display:none;
  z-index:15;
}

.overlay.active{ display:block; }

/* CONTENT */
.content{
  padding:20px;
  padding-bottom:100px;
}

.card{
  background:#fff;
  padding:20px;
  border-radius:20px;
  box-shadow:0 5px 20px rgba(0,0,0,0.05);
  margin-bottom:15px;
}

.saldo{
  font-size:32px;
  font-weight:800;
}

.sub{
  color:var(--cinza);
  font-size:14px;
  margin-top:4px;
}

.linha{
  display:flex;
  justify-content:space-between;
  margin-top:10px;
}

.valor{
  font-weight:700;
}

.historico-item{
  padding:10px 0;
  border-bottom:1px solid #eee;
  font-size:14px;
}

.input{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid #ddd;
  margin-top:10px;
  font-size:14px;
}

.btn{
  width:100%;
  padding:14px;
  border-radius:14px;
  border:none;
  font-weight:700;
  background:var(--verde);
  color:#fff;
  cursor:pointer;
  margin-top:15px;
}

.alerta{
  margin-top:10px;
  font-size:13px;
  color:var(--vermelho);
}

/* BOTTOM NAV */
.bottom-nav{
  position:fixed;
  bottom:0;
  width:100%;
  background:#ffffff;
  display:flex;
  justify-content:space-around;
  padding:12px 0;
  border-top:1px solid #eee;
}

.bottom-nav div{
  font-size:12px;
  color:#777;
  cursor:pointer;
}

.bottom-nav .active{
  color:var(--verde);
  font-weight:700;
}
</style>
</head>
<body>

<!-- MENU -->
<div id="menu" class="menu">
  <div class="menu-item" onclick="ir('offline.html')">üè† In√≠cio</div>
  <div class="menu-item" onclick="ir('politica.html')">üìÑ Pol√≠tica de Privacidade</div>
  <div class="menu-item" onclick="ir('termos.html')">üìë Termos de Uso</div>
  <div class="menu-item" onclick="ir('configuracoes.html')">‚öô Configura√ß√µes</div>
</div>

<div id="overlay" class="overlay" onclick="toggleMenu()"></div>

<div class="header">
  <div class="menu-btn" onclick="toggleMenu()">‚ò∞</div>
  <div class="title">Carteira</div>
  <div class="spacer"></div>
</div>

<div class="content">

  <!-- SALDO -->
  <div class="card">
    <div class="saldo">R$ <span id="saldo">0.00</span></div>
    <div class="sub">Cr√©ditos dispon√≠veis</div>
  </div>

  <!-- RECARGA -->
  <div class="card">
    <strong>Adicionar Cr√©ditos</strong>
    <input type="number" step="0.01" id="valorRecarga" class="input" placeholder="Valor em R$">
    <button class="btn" onclick="recargar()">Adicionar</button>
    <div id="alertaCredito" class="alerta"></div>
  </div>

  <!-- HIST√ìRICO -->
  <div class="card">
    <strong>Hist√≥rico de Recargas</strong>
    <div id="historico"></div>
  </div>

</div>

<div class="bottom-nav">
  <div onclick="location.href='driver-home.html'">Home</div>
  <div onclick="location.href='corridas.html'">Corridas</div>
  <div class="active">Carteira</div>
  <div onclick="location.href='veiculo.html'">Ve√≠culo</div>
  <div onclick="location.href='perfil.html'">Perfil</div>
</div>

<script>

/* MENU */
function toggleMenu(){
  document.getElementById("menu").classList.toggle("active");
  document.getElementById("overlay").classList.toggle("active");
}

function ir(pagina){
  window.location.href = pagina;
}

/* DADOS */
function atualizarSaldo(){
  let saldo = parseFloat(localStorage.getItem("creditos")) || 0;
  document.getElementById("saldo").innerText = saldo.toFixed(2);

  if(saldo <= 0){
    document.getElementById("alertaCredito").innerText =
      "Voc√™ precisa de cr√©ditos para receber corridas.";
  }else{
    document.getElementById("alertaCredito").innerText = "";
  }
}

function recargar(){
  let valor = parseFloat(document.getElementById("valorRecarga").value);

  if(!valor || valor <= 0){
    alert("Informe um valor v√°lido.");
    return;
  }

  let saldoAtual = parseFloat(localStorage.getItem("creditos")) || 0;
  let novoSaldo = saldoAtual + valor;

  localStorage.setItem("creditos", novoSaldo.toFixed(2));

  salvarHistorico(valor);

  document.getElementById("valorRecarga").value = "";
  atualizarSaldo();
  carregarHistorico();
}

function salvarHistorico(valor){
  let historico = JSON.parse(localStorage.getItem("historico_creditos")) || [];

  historico.unshift({
    data: new Date().toLocaleDateString(),
    valor: valor.toFixed(2)
  });

  localStorage.setItem("historico_creditos", JSON.stringify(historico));
}

function carregarHistorico(){
  let historico = JSON.parse(localStorage.getItem("historico_creditos")) || [];
  let container = document.getElementById("historico");
  container.innerHTML = "";

  historico.forEach(item=>{
    container.innerHTML += `
      <div class="historico-item">
        ${item.data} ‚Ä¢ + R$ ${item.valor}
      </div>
    `;
  });
}

atualizarSaldo();
carregarHistorico();

</script>

</body>
</html>