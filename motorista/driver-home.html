<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RF Motorista</title>

<style>
:root{
  --preto:#0f0f0f;
  --branco:#ffffff;
  --amarelo:#facc15;
  --verde:#22c55e;
  --vermelho:#ef4444;
}

body{
  margin:0;
  background:var(--preto);
  color:var(--branco);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
}

/* HEADER */
.header{
  background:#fff;
  padding:25px 20px 60px;
  border-bottom-left-radius:40px;
  border-bottom-right-radius:40px;
  color:#000;
  font-weight:900;
  font-size:1.3rem;
}

/* RESUMO */
.resumo{
  margin:-40px 20px 20px 20px;
  background:#1c1c1c;
  padding:18px;
  border-radius:20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-weight:700;
}

.resumo span{
  font-size:20px;
}

/* CENTRO */
.area-central{
  margin:20px;
  height:360px;
  display:flex;
  justify-content:center;
  align-items:center;
  position:relative;
}

/* CARD CORRIDA */
.card{
  width:100%;
  max-width:420px;
  background:#1c1c1c;
  padding:20px;
  border-radius:20px;
  display:none;
  box-shadow:0 15px 40px rgba(0,0,0,.6);
}

.card .valor{
  font-size:32px;
  font-weight:900;
  margin:10px 0;
}

.card .rota{
  font-size:14px;
  opacity:.7;
}

.btn{
  width:100%;
  padding:15px;
  border:none;
  border-radius:16px;
  font-weight:700;
  margin-top:10px;
  cursor:pointer;
}

.btn-aceitar{background:var(--verde);color:#fff;}
.btn-recusar{background:#111;color:#fff;border:1px solid #333;}
.btn-online{
  position:fixed;
  bottom:80px;
  left:20px;
  right:20px;
  background:var(--amarelo);
  color:#000;
}

/* MENU */
.bottom-nav{
  position:fixed;
  bottom:0;
  width:100%;
  background:#111;
  display:flex;
  justify-content:space-around;
  padding:12px 0;
  border-top:1px solid #222;
}

.bottom-nav div{
  font-size:12px;
  color:#aaa;
  cursor:pointer;
}
</style>
</head>
<body>

<audio id="audioChamada" src="../assets/sounds/notificacao.mp3"></audio>

<div class="header">
  MOTORISTA RF
</div>

<div class="resumo">
  <div>Resumo do Dia</div>
  <span id="resumoValor">R$ 0,00</span>
</div>

<div class="area-central">

  <div class="card" id="cardCorrida">

  <div style="font-weight:700;color:#facc15;">
    Viagem RF • <span id="pagamento"></span>
  </div>

  <div class="valor" id="valorCorrida"></div>

  <div style="margin-top:15px;">
    <div style="font-size:12px;opacity:.6;">⬆ ORIGEM</div>
    <div style="font-weight:700;margin-bottom:10px;" id="origemCorrida"></div>

    <div style="font-size:12px;opacity:.6;">⬇ DESTINO</div>
    <div style="font-weight:700;" id="destinoCorrida"></div>
  </div>

  <button class="btn btn-aceitar" onclick="aceitarCorrida()">
    Aceitar
  </button>

  <button class="btn btn-recusar" onclick="recusarCorrida()">
    Recusar
  </button>

</div>

  <div id="mensagemCentral" style="opacity:.6;">
    Aguardando corridas...
  </div>

</div>

<button class="btn btn-online" id="btnOnline" onclick="toggleOnline()">
  Ficar Online
</button>

<div class="bottom-nav">
  <div>Home</div>
  <div onclick="location.href='corridas.html'">Corridas</div>
  <div onclick="location.href='carteira.html'">Carteira</div>
  <div onclick="location.href='veiculo.html'">Veículo</div>
  <div onclick="location.href='perfil.html'">Perfil</div>
</div>

<script>

let online=false;
let corridaAtual=null;
const audio=document.getElementById("audioChamada");

/* RESUMO */
function atualizarResumo(){
  let total=Number(localStorage.getItem("total_dia")||0);
  document.getElementById("resumoValor").innerText=
    "R$ "+total.toFixed(2);
}
atualizarResumo();

/* ONLINE */
function toggleOnline(){
  online=!online;
  const btn=document.getElementById("btnOnline");

  if(online){
    btn.innerText="Online";
    btn.style.background="#22c55e";
    simularCorrida();
  }else{
    btn.innerText="Ficar Online";
    btn.style.background="#facc15";
    esconderCorrida();
  }
}

/* SIMULAÇÃO */
function simularCorrida(){

  if(!online) return;

  corridaAtual={
    valor:12.00,
    forma_pagamento:"Dinheiro",
    origem:"Farmácia Central",
    destino:"Rua das Flores",
    passageiro:"Carlos"
  };

  document.getElementById("pagamento").innerText=
    corridaAtual.forma_pagamento;

  document.getElementById("valorCorrida").innerText=
    "R$ "+corridaAtual.valor.toFixed(2);

  document.getElementById("origemCorrida").innerText=
    corridaAtual.origem;

  document.getElementById("destinoCorrida").innerText=
    corridaAtual.destino;

  audio.loop=true;
  audio.play().catch(()=>{});

  document.getElementById("cardCorrida").style.display="block";
  document.getElementById("mensagemCentral").style.display="none";
}

function esconderCorrida(){
  audio.pause();
  audio.currentTime=0;
  document.getElementById("cardCorrida").style.display="none";
  document.getElementById("mensagemCentral").style.display="block";
}

function aceitarCorrida(){
  esconderCorrida();
  localStorage.setItem("corrida_ativa",JSON.stringify(corridaAtual));
  window.location.href="corrida-ativa.html";
}

function recusarCorrida(){
  esconderCorrida();
}

</script>

</body>
</html>